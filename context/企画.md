# 📄 企画書：レシート家計簿アプリ（第2稿・修正版）

---

## 1. アプリの概要

### エレベーターピッチ

毎日の支出や割り勘管理に手間を感じている、 カフェで他人にまとめて払ってもらうことが多く、レシートをもらってつけを管理している一人暮らしの若手社会人。週末にノートでまとめて記録しており、複雑な設定や手順がなく、1アクションで記録できることを重視している、そんな人のためのスマート家計簿アプリ。レシートを撮影するだけで、AIが明細を自動抽出し、カテゴリごとの集計・グラフ化・割り勘精算までをサポートします。従来の手入力家計簿や送金アプリとは異なり、画像ベースで完結する直感的なUXと視覚的なフィードバックが特長です。

### コンセプト

**レシートを撮るだけ、支出と割り勘が“見える”家計管理アプリ。**

紙のレシートやECのスクリーンショットをアップロードするだけで、支出を自動記録。\
さらに、割り勘の記録と精算もでき、手間なく支出の全体像を把握できる。

紙のレシートやECのスクリーンショットをアップロードするだけで、支出を自動記録。\
さらに、割り勘の記録と精算もでき、手間なく支出の全体像を把握できる。

---

## 2. 目的と価値

- **支出の記録をラクに**\
  → レシートまたはスクリーンショットをアップロードするだけ

- **割り勘の手間を減らす**\
  → 品目ごとに相手を指定し、後で精算金額を表示

- **使いすぎの傾向を見える化**\
  → カテゴリごとに支出を集計・グラフで確認できる

---

## 3. 想定ユーザー

| タイプ       | 特徴・状況           | ニーズ            |
| --------- | --------------- | -------------- |
| 社会人・学生    | 日常の支出が増えてきた     | 支出を把握して節約したい   |
| 割り勘が多い人   | 旅行・外食・買い出しが多い   | 割り勘を記録・精算したい   |
| 家計簿が続かない人 | 記録が面倒で挫折しがち     | 手間なく記録・集計したい   |
| 支出を見直したい人 | どこに使いすぎているか知りたい | カテゴリ別に傾向を把握したい |

---

## 4. ユースケース

| UC ID | タイトル            | ユーザーの目的                     |
| ----- | --------------- | --------------------------- |
| UC-01 | 支出を記録する         | 日常の出費を手間なく簡単に記録したい          |
| UC-02 | 割り勘を記録する        | 割り勘した支出を相手ごとに管理・記録したい       |
| UC-03 | 割り勘を精算する        | 相手との支払い残高を確認し、精算状況を管理したい    |
| UC-04 | 支出の全体状況を確認する    | 自分の現在の支出状況を素早く把握したい         |
| UC-05 | 支出傾向をカテゴリ別に分析する | 自分がどのカテゴリでお金を使いすぎているかを把握したい |

---

## 5. ユーザー体験フロー

### UC-01：支出を記録する

1. ホーム画面から「レシート追加」を選択
2. 撮影 or ギャラリーから画像アップロード
3. Gemini API により明細を自動抽出（店名・日付・金額・品目）
4. ユーザーが明細を確認・編集
5. カテゴリを選択し、「保存」
6. 支出履歴に反映

### UC-02：割り勘を記録する

1. 明細編集画面で、各品目に割り勘相手を設定
2. 相手を一覧から選択 or 新規追加
3. 割り勘情報が各品目に紐付けられ保存

### UC-03：割り勘を精算する

1. 割り勘一覧画面から「未精算の取引」を確認
2. 相手ごとの「支払い／受取」額を表示
3. 清算済みにする or 送金連携（将来的に）

### UC-04：支出の全体状況を確認する

1. ホーム画面 or メニューから「支出履歴」を開く
2. 月別・日別の支出が一覧で表示される
3. 明細から詳細確認・編集も可能

### UC-05：支出傾向をカテゴリ別に分析する

1. 分析画面を開く（「グラフ」など）
2. カテゴリ別に円グラフや棒グラフで支出傾向を表示
3. 前月比やカテゴリの割合を確認

---

## 6. 主な特徴・設計方針

- **画像入力中心のUX**：紙のレシート・スクショどちらも対応
- **Gemini APIで明細を自動抽出**：店名・日付・金額・品目などを取得
- **割り勘に対応**：1品ずつ割り勘相手を選択し、支払いバランスを記録
- **視覚的なフィードバック**：カテゴリ別グラフや支出の傾向を提示
- **スマホ最適化・ミニマルなUI設計**

---

## 7. 技術構成（予定）

| 項目      | 技術                                       |
| ------- | ---------------------------------------- |
| フロントエンド | Next.js（TypeScript）                      |
| バックエンド  | Firebase Functions（TypeScript + Express） |
| 認証      | Firebase Authentication                  |
| データベース  | Firebase Firestore                       |
| 画像保存    | Firebase Storage                         |
| 画像解析    | Gemini API（画像 → 明細抽出）                    |

---

## 8. MVPスコープ（実装範囲）

| 機能                  | 実装 | 備考                       |
| ------------------- | -- | ------------------------ |
| レシート画像のアップロード       | ✅  | カメラ撮影・画像選択・スクショ対応        |
| 明細の自動抽出（Gemini API） | ✅  | 店名・日付・金額・品目抽出            |
| 明細の編集・カテゴリ選択        | ✅  | ユーザーによる確認・編集も可能          |
| 割り勘相手の指定            | ✅  | 品目ごとの相手指定が可能             |
| 割り勘の清算表示            | ✅  | 「◯◯に¥1,200支払う」形式で表示      |
| 支出履歴の表示             | ✅  | 月別・日別の支出を一覧表示            |
| カテゴリ別グラフ表示          | ✅  | 合計・前月比・割合などを視覚化          |
| ユーザー管理・割り勘相手の保存     | ❌  | 名前の一時保存 or Firebase連携検討中 |

---

