# Git Commit ガイドライン

このドキュメントでは、プロジェクトにおける Git コミットメッセージのガイドラインを説明します。

## 目的

一貫性のある、分かりやすいコミットメッセージを作成することで、プロジェクトの履歴を追跡しやすくし、コードレビューや問題の特定を効率的に行えるようにします。

## 基本原則

- コミットは論理的な変更の単位であること。
- コミットメッセージは、そのコミットで何を変更したのか、なぜ変更したのかを簡潔かつ明確に記述すること。
- コミットメッセージは日本語で記述すること。

## コミットメッセージの構造

Conventional Commits 仕様に準拠することを推奨します。これにより、自動化ツールの活用や、変更内容の把握が容易になります。

メッセージは以下の構造で構成されます。

```
type(scope): description

[optional body]

[optional footer(s)]
```

### Type (必須)

コミットの種類を示します。主な種類は以下の通りです。

- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの整形（ロジックに影響しない変更）
- `refactor`: リファクタリング（機能追加やバグ修正を含まないコード変更）
- `perf`: パフォーマンス改善
- `test`: テストの追加や修正
- `build`: ビルドシステムや外部依存に関する変更
- `ci`: CI に関する変更
- `chore`: ビルドツールやその他の補助ツール、ライブラリに関する変更
- `revert`: 以前のコミットを元に戻す変更

### Scope (任意)

変更が影響する範囲を示します。特定のコンポーネント、モジュール、ファイル名などを記述します。省略可能です。

例: `feat(user-profile): アバターアップロード機能を追加`

### Description (必須)

変更内容を簡潔に記述します。

- 動詞から始め、命令形を使用します（例: "追加", "修正", "変更"）。
- 最初の行は 50 文字以内に収めることが推奨されます。
- 行末に句読点をつけません。

例: `feat: ユーザー登録機能を追加`

### Body (任意)

コミットのより詳細な説明を記述します。

- 変更の動機や、なぜそのように実装したのかなどを記述します。
- 各行は 72 文字以内に収めることが推奨されます。

### Footer (任意)

関連する Issue 番号や、Breaking Change（破壊的な変更）に関する情報を記述します。

- Breaking Change はフッターの先頭に `BREAKING CHANGE:` または `BREAKING-CHANGE:` と記述し、その後に変更内容と移行方法を記述します。
- Issue をクローズする場合は `Closes #ISSUE_NUMBER` のように記述します。

例:

```
BREAKING CHANGE: ユーザー認証のための新しいAPIを導入

以前の `authenticateUser` 関数は `login` および `register` 関数に置き換えられました。
```

```
Closes #123
```

## 変更状況 (Status) の確認

コミット前に、`git status` コマンドを使用して現在のリポジトリの状態を確認することを推奨します。これにより、どのファイルが変更され、どのファイルがステージングされているかなどを把握できます。

```bash
git status
```

## 差分 (Diff) の確認

コミット前に、`git diff` コマンドを使用して変更内容を確認することを推奨します。これにより、意図しない変更が含まれていないか、またコミットに含めるべき変更が全て含まれているかを確認できます。

- ステージングエリアとの差分を確認:
  ```bash
  git diff --staged
  ```
- ワーキングツリーとの差分を確認:
  ```bash
  git diff
  ```

## コミットの作成手順

変更内容をコミットするには、以下の手順を実行します。

1.  **変更のステージング**: コミットに含めたい変更をステージングエリアに追加します。特定のファイルまたはディレクトリを指定できます。

    ```bash
    git add <file>...
    # または、全ての変更をステージングする場合
    # git add .
    ```

2.  **コミットの実行**: ステージングされた変更をコミットします。コミットメッセージは、上記の「コミットメッセージの構造」に従って記述します。

    ```bash
    git commit -m "type(scope): description" -m "[optional body]" -m "[optional footer(s)]"
    ```

    または、エディタを使用して詳細なメッセージを記述する場合:

    ```bash
    git commit
    ```

    エディタが開いたら、ガイドラインに従ってコミットメッセージを記述し、保存して閉じます。

このガイドラインを遵守し、チーム全体で一貫性のあるコミットメッセージを心がけましょう。
